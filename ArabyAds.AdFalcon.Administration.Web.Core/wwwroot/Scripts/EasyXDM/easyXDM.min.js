(function(O,d,q,L,l,I){var b=this;var o=Math.floor(Math.random()*10000);var r=Function.prototype;var R=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/;var S=/[\-\w]+\/\.\.\//;var G=/([^:])\/\//g;var J="";var p={};var N=O.easyXDM;var V="easyXDM_";var F;var z=false;var j;var i;function D(Y,aa){var Z=typeof Y[aa];return Z=="function"||(!!(Z=="object"&&Y[aa]))||Z=="unknown"}function v(Y,Z){return !!(typeof(Y[Z])=="object"&&Y[Z])}function s(Y){return Object.prototype.toString.call(Y)==="[object Array]"}function c(){var aa="Shockwave Flash",ae="application/x-shockwave-flash";if(!u(navigator.plugins)&&typeof navigator.plugins[aa]=="object"){var ac=navigator.plugins[aa].description;if(ac&&!u(navigator.mimeTypes)&&navigator.mimeTypes[ae]&&navigator.mimeTypes[ae].enabledPlugin){j=ac.match(/\d+/g)}}if(!j){var Z;try{Z=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");j=Array.prototype.slice.call(Z.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1);Z=null}catch(ad){}}if(!j){return false}var Y=parseInt(j[0],10),ab=parseInt(j[1],10);i=Y>9&&ab>0;return true}var w,y;if(D(O,"addEventListener")){w=function(aa,Y,Z){aa.addEventListener(Y,Z,false)};y=function(aa,Y,Z){aa.removeEventListener(Y,Z,false)}}else{if(D(O,"attachEvent")){w=function(Y,aa,Z){Y.attachEvent("on"+aa,Z)};y=function(Y,aa,Z){Y.detachEvent("on"+aa,Z)}}else{throw new Error("Browser not supported")}}var X=false,K=[],M;if("readyState" in d){M=d.readyState;X=M=="complete"||(~navigator.userAgent.indexOf("AppleWebKit/")&&(M=="loaded"||M=="interactive"))}else{X=!!d.body}function t(){if(X){return}X=true;for(var Y=0;Y<K.length;Y++){K[Y]()}K.length=0}if(!X){if(D(O,"addEventListener")){w(d,"DOMContentLoaded",t)}else{w(d,"readystatechange",function(){if(d.readyState=="complete"){t()}});if(d.documentElement.doScroll&&O===top){var h=function(){if(X){return}try{d.documentElement.doScroll("left")}catch(Y){L(h,1);return}t()};h()}}w(O,"load",t)}function H(Z,Y){if(X){Z.call(Y);return}K.push(function(){Z.call(Y)})}function n(){var aa=parent;if(J!==""){for(var Y=0,Z=J.split(".");Y<Z.length;Y++){aa=aa[Z[Y]]}}return aa.easyXDM}function f(Y){O.easyXDM=N;J=Y;if(J){V="easyXDM_"+J.replace(".","_")+"_"}return p}function A(Y){return Y.match(R)[3]}function g(Y){return Y.match(R)[4]||""}function k(aa){var Y=aa.toLowerCase().match(R);if(!Y){return""}var ab=Y[2],ac=Y[3],Z=Y[4]||"";if((ab=="http:"&&Z==":80")||(ab=="https:"&&Z==":443")){Z=""}return ab+"//"+ac+Z}function C(Y){Y=Y.replace(G,"$1/");if(!Y.match(/^(http||https):\/\//)){var Z=(Y.substring(0,1)==="/")?"":q.pathname;if(Z.substring(Z.length-1)!=="/"){Z=Z.substring(0,Z.lastIndexOf("/")+1)}Y=q.protocol+"//"+q.host+Z+Y}while(S.test(Y)){Y=Y.replace(S,"")}return Y}function Q(Y,ab){var ad="",aa=Y.indexOf("#");if(aa!==-1){ad=Y.substring(aa);Y=Y.substring(0,aa)}var ac=[];for(var Z in ab){if(ab.hasOwnProperty(Z)){ac.push(Z+"="+I(ab[Z]))}}return Y+(z?"#":(Y.indexOf("?")==-1?"?":"&"))+ac.join("&")+ad}var T=(function(Y){Y=Y.substring(1).split("&");var aa={},ab,Z=Y.length;while(Z--){ab=Y[Z].split("=");aa[ab[0]]=l(ab[1])}return aa}(/xdm_e=/.test(q.search)?q.search:q.hash));function u(Y){return typeof Y==="undefined"}var P=function(){var Z={};var aa={a:[1,2,3]},Y='{"a":[1,2,3]}';if(typeof JSON!="undefined"&&typeof JSON.stringify==="function"&&JSON.stringify(aa).replace((/\s/g),"")===Y){return JSON}if(Object.toJSON){if(Object.toJSON(aa).replace((/\s/g),"")===Y){Z.stringify=Object.toJSON}}if(typeof String.prototype.evalJSON==="function"){aa=Y.evalJSON();if(aa.a&&aa.a.length===3&&aa.a[2]===3){Z.parse=function(ab){return ab.evalJSON()}}}if(Z.stringify&&Z.parse){P=function(){return Z};return Z}return null};function U(Y,Z,aa){var ac;for(var ab in Z){if(Z.hasOwnProperty(ab)){if(ab in Y){ac=Z[ab];if(typeof ac==="object"){U(Y[ab],ac,aa)}else{if(!aa){Y[ab]=Z[ab]}}}else{Y[ab]=Z[ab]}}}return Y}function a(){var Z=d.body.appendChild(d.createElement("form")),Y=Z.appendChild(d.createElement("input"));Y.name=V+"TEST"+o;F=Y!==Z.elements[Y.name];d.body.removeChild(Z)}function B(Z){if(u(F)){a()}var ad;if(F){ad=d.createElement('<iframe name="'+Z.props.name+'"/>')}else{ad=d.createElement("IFRAME");ad.name=Z.props.name}ad.id=ad.name=Z.props.name;delete Z.props.name;if(typeof Z.container=="string"){Z.container=d.getElementById(Z.container)}if(!Z.container){U(ad.style,{position:"absolute",top:"-2000px",left:"0px"});Z.container=d.body}var ac=Z.props.src;Z.props.src="javascript:false";U(ad,Z.props);ad.border=ad.frameBorder=0;ad.allowTransparency=true;Z.container.appendChild(ad);if(Z.onLoad){w(ad,"load",Z.onLoad)}if(Z.usePost){var ab=Z.container.appendChild(d.createElement("form")),Y;ab.target=ad.name;ab.action=ac;ab.method="POST";if(typeof(Z.usePost)==="object"){for(var aa in Z.usePost){if(Z.usePost.hasOwnProperty(aa)){if(F){Y=d.createElement('<input name="'+aa+'"/>')}else{Y=d.createElement("INPUT");Y.name=aa}Y.value=Z.usePost[aa];ab.appendChild(Y)}}}ab.submit();ab.parentNode.removeChild(ab)}else{ad.src=ac}Z.props.src=ac;return ad}function e(Y){return Y.replace(/[-[\]/{}()+.\^$|]/g,"\\$&").replace(/(\*)/g,".$1").replace(/\?/g,".")}function W(ac,aa){if(typeof ac=="string"){ac=[ac]}var Z,Y=ac.length;while(Y--){var ab=ac[Y].substr(0,1)==="^"&&ac[Y].substr(ac[Y].length-1,1)==="$";Z=ab?ac[Y]:"^"+e(ac[Y])+"$";Z=new RegExp(Z);if(Z.test(aa)){return true}}return false}function m(aa){var af=aa.protocol,Z;aa.isHost=aa.isHost||u(T.xdm_p);z=aa.hash||false;if(!aa.props){aa.props={}}if(!aa.isHost){aa.channel=T.xdm_c.replace(/["'<>\\]/g,"");aa.secret=T.xdm_s;aa.remote=T.xdm_e.replace(/["'<>\\]/g,"");af=T.xdm_p;if(aa.acl&&!W(aa.acl,aa.remote)){throw new Error("Access denied for "+aa.remote)}}else{aa.remote=C(aa.remote);aa.channel=aa.channel||"default"+o++;aa.secret=Math.random().toString(16).substring(2);if(u(af)){if(k(q.href)==k(aa.remote)){af="4"}else{if(D(O,"postMessage")||D(d,"postMessage")){af="1"}else{if(aa.swf&&D(O,"ActiveXObject")&&c()){af="6"}else{if(navigator.product==="Gecko"&&"frameElement" in O&&navigator.userAgent.indexOf("WebKit")==-1){af="5"}else{if(aa.remoteHelper){af="2"}else{af="0"}}}}}}}aa.protocol=af;switch(af){case"0":U(aa,{interval:100,delay:2000,useResize:true,useParent:false,usePolling:false},true);if(aa.isHost){if(!aa.local){var ad=q.protocol+"//"+q.host,Y=d.body.getElementsByTagName("img"),ae;var ab=Y.length;while(ab--){ae=Y[ab];if(ae.src.substring(0,ad.length)===ad){aa.local=ae.src;break}}if(!aa.local){aa.local=O}}var ac={xdm_c:aa.channel,xdm_p:0};if(aa.local===O){aa.usePolling=true;aa.useParent=true;aa.local=q.protocol+"//"+q.host+q.pathname+q.search;ac.xdm_e=aa.local;ac.xdm_pa=1}else{ac.xdm_e=C(aa.local)}if(aa.container){aa.useResize=false;ac.xdm_po=1}aa.remote=Q(aa.remote,ac)}else{U(aa,{useParent:!u(T.xdm_pa),usePolling:!u(T.xdm_po),useResize:aa.useParent?false:aa.useResize})}Z=[new p.stack.HashTransport(aa),new p.stack.ReliableBehavior({}),new p.stack.QueueBehavior({encode:true,maxLength:4000-aa.remote.length}),new p.stack.VerifyBehavior({initiate:aa.isHost})];break;case"1":Z=[new p.stack.PostMessageTransport(aa)];break;case"2":if(aa.isHost){aa.remoteHelper=C(aa.remoteHelper)}Z=[new p.stack.NameTransport(aa),new p.stack.QueueBehavior(),new p.stack.VerifyBehavior({initiate:aa.isHost})];break;case"3":Z=[new p.stack.NixTransport(aa)];break;case"4":Z=[new p.stack.SameOriginTransport(aa)];break;case"5":Z=[new p.stack.FrameElementTransport(aa)];break;case"6":if(!j){c()}Z=[new p.stack.FlashTransport(aa)];break}Z.push(new p.stack.QueueBehavior({lazy:aa.lazy,remove:true}));return Z}function E(ab){var ac,aa={incoming:function(ae,ad){this.up.incoming(ae,ad)},outgoing:function(ad,ae){this.down.outgoing(ad,ae)},callback:function(ad){this.up.callback(ad)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}};for(var Z=0,Y=ab.length;Z<Y;Z++){ac=ab[Z];U(ac,aa,true);if(Z!==0){ac.down=ab[Z-1]}if(Z!==Y-1){ac.up=ab[Z+1]}}return ac}function x(Y){Y.up.down=Y.down;Y.down.up=Y.up;Y.up=Y.down=null}U(p,{version:"2.4.20.1",query:T,stack:{},apply:U,getJSONObject:P,whenReady:H,noConflict:f});p.DomHelper={on:w,un:y,requiresJSON:function(Y){if(!v(O,"JSON")){d.write('<script type="text/javascript" src="'+Y+'"><\/script>')}}};(function(){var Y={};p.Fn={set:function(Z,aa){Y[Z]=aa},get:function(aa,Z){if(!Y.hasOwnProperty(aa)){return}var ab=Y[aa];if(Z){delete Y[aa]}return ab}}}());p.Socket=function(Z){var Y=E(m(Z).concat([{incoming:function(ac,ab){Z.onMessage(ac,ab)},callback:function(ab){if(Z.onReady){Z.onReady(ab)}}}])),aa=k(Z.remote);this.origin=k(Z.remote);this.destroy=function(){Y.destroy()};this.postMessage=function(ab){Y.outgoing(ab,aa)};Y.init()};p.Rpc=function(aa,Z){if(Z.local){for(var ac in Z.local){if(Z.local.hasOwnProperty(ac)){var ab=Z.local[ac];if(typeof ab==="function"){Z.local[ac]={method:ab}}}}}var Y=E(m(aa).concat([new p.stack.RpcBehavior(this,Z),{callback:function(ad){if(aa.onReady){aa.onReady(ad)}}}]));this.origin=k(aa.remote);this.context=aa.context||null;this.destroy=function(){Y.destroy()};Y.init()};p.stack.SameOriginTransport=function(Z){var aa,ac,ab,Y;return(aa={outgoing:function(ae,af,ad){ab(ae);if(ad){ad()}},destroy:function(){if(ac){ac.parentNode.removeChild(ac);ac=null}},onDOMReady:function(){Y=k(Z.remote);if(Z.isHost){U(Z.props,{src:Q(Z.remote,{xdm_e:q.protocol+"//"+q.host+q.pathname,xdm_c:Z.channel,xdm_p:4}),name:V+Z.channel+"_provider"});ac=B(Z);p.Fn.set(Z.channel,function(ad){ab=ad;L(function(){aa.up.callback(true)},0);return function(ae){aa.up.incoming(ae,Y)}})}else{ab=n().Fn.get(Z.channel,true)(function(ad){aa.up.incoming(ad,Y)});L(function(){aa.up.callback(true)},0)}},init:function(){H(aa.onDOMReady,aa)}})};p.stack.FlashTransport=function(ab){var ad,Y,ac,ae,Z,af;function ag(ai,ah){L(function(){ad.up.incoming(ai,ae)},0)}function aa(ai){var ah=ab.swf+"?host="+ab.isHost;var ak="easyXDM_swf_"+Math.floor(Math.random()*10000);p.Fn.set("flash_loaded"+ai.replace(/[\-.]/g,"_"),function(){p.stack.FlashTransport[ai].swf=Z=af.firstChild;var al=p.stack.FlashTransport[ai].queue;for(var am=0;am<al.length;am++){al[am]()}al.length=0});if(ab.swfContainer){af=(typeof ab.swfContainer=="string")?d.getElementById(ab.swfContainer):ab.swfContainer}else{af=d.createElement("div");U(af.style,i&&ab.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0});d.body.appendChild(af)}var aj="callback=flash_loaded"+I(ai.replace(/[\-.]/g,"_"))+"&proto="+b.location.protocol+"&domain="+I(A(b.location.href))+"&port="+I(g(b.location.href))+"&ns="+I(J);af.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+ak+"' data='"+ah+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+ah+"'></param><param name='flashvars' value='"+aj+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+aj+"' allowScriptAccess='always' wmode='transparent' src='"+ah+"' height='1' width='1'></embed></object>"}return(ad={outgoing:function(ai,aj,ah){Z.postMessage(ab.channel,ai.toString());if(ah){ah()}},destroy:function(){try{Z.destroyChannel(ab.channel)}catch(ah){}Z=null;if(Y){Y.parentNode.removeChild(Y);Y=null}},onDOMReady:function(){ae=ab.remote;p.Fn.set("flash_"+ab.channel+"_init",function(){L(function(){ad.up.callback(true)})});p.Fn.set("flash_"+ab.channel+"_onMessage",ag);ab.swf=C(ab.swf);var ai=A(ab.swf);var ah=function(){p.stack.FlashTransport[ai].init=true;Z=p.stack.FlashTransport[ai].swf;Z.createChannel(ab.channel,ab.secret,k(ab.remote),ab.isHost);if(ab.isHost){if(i&&ab.swfNoThrottle){U(ab.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"})}U(ab.props,{src:Q(ab.remote,{xdm_e:k(q.href),xdm_c:ab.channel,xdm_p:6,xdm_s:ab.secret}),name:V+ab.channel+"_provider"});Y=B(ab)}};if(p.stack.FlashTransport[ai]&&p.stack.FlashTransport[ai].init){ah()}else{if(!p.stack.FlashTransport[ai]){p.stack.FlashTransport[ai]={queue:[ah]};aa(ai)}else{p.stack.FlashTransport[ai].queue.push(ah)}}},init:function(){H(ad.onDOMReady,ad)}})};p.stack.PostMessageTransport=function(ac){var ae,af,aa,ab;function Z(ag){if(ag.origin){return k(ag.origin)}if(ag.uri){return k(ag.uri)}if(ag.domain){return q.protocol+"//"+ag.domain}throw"Unable to retrieve the origin of the event"}function ad(ah){if(typeof ah.data!=="string"){return}var ag=Z(ah);if(ag==ab&&typeof ah.data==="string"&&ah.data.substring(0,ac.channel.length+1)==ac.channel+" "){ae.up.incoming(ah.data.substring(ac.channel.length+1),ag)}}function Y(ag){if(ag.data==ac.channel+"-ready"){aa=("postMessage" in af.contentWindow)?af.contentWindow:af.contentWindow.document;y(O,"message",Y);w(O,"message",ad);L(function(){ae.up.callback(true)},0)}}return(ae={outgoing:function(ah,ai,ag){aa.postMessage(ac.channel+" "+ah,ai||ab);if(ag){ag()}},destroy:function(){y(O,"message",Y);y(O,"message",ad);if(af){aa=null;af.parentNode.removeChild(af);af=null}},onDOMReady:function(){ab=k(ac.remote);if(ac.isHost){w(O,"message",Y);U(ac.props,{src:Q(ac.remote,{xdm_e:k(q.href),xdm_c:ac.channel,xdm_p:1}),name:V+ac.channel+"_provider"});af=B(ac)}else{w(O,"message",ad);aa=("postMessage" in O.parent)?O.parent:O.parent.document;aa.postMessage(ac.channel+"-ready",ab);L(function(){ae.up.callback(true)},0)}},init:function(){H(ae.onDOMReady,ae)}})};p.stack.FrameElementTransport=function(Z){var aa,ac,ab,Y;return(aa={outgoing:function(ae,af,ad){ab.call(this,ae);if(ad){ad()}},destroy:function(){if(ac){ac.parentNode.removeChild(ac);ac=null}},onDOMReady:function(){Y=k(Z.remote);if(Z.isHost){U(Z.props,{src:Q(Z.remote,{xdm_e:k(q.href),xdm_c:Z.channel,xdm_p:5}),name:V+Z.channel+"_provider"});ac=B(Z);ac.fn=function(ad){delete ac.fn;ab=ad;L(function(){aa.up.callback(true)},0);return function(ae){aa.up.incoming(ae,Y)}}}else{if(d.referrer&&k(d.referrer)!=T.xdm_e){O.top.location=T.xdm_e}ab=O.frameElement.fn(function(ad){aa.up.incoming(ad,Y)});aa.up.callback(true)}},init:function(){H(aa.onDOMReady,aa)}})};p.stack.NameTransport=function(ac){var ad;var af,aj,ab,ah,ai,Z,Y;function ag(am){var al=ac.remoteHelper+(af?"#_3":"#_2")+ac.channel;aj.contentWindow.sendMessage(am,al)}function ae(){if(af){if(++ah===2||!af){ad.up.callback(true)}}else{ag("ready");ad.up.callback(true)}}function ak(al){ad.up.incoming(al,Z)}function aa(){if(ai){L(function(){ai(true)},0)}}return(ad={outgoing:function(am,an,al){ai=al;ag(am)},destroy:function(){aj.parentNode.removeChild(aj);aj=null;if(af){ab.parentNode.removeChild(ab);ab=null}},onDOMReady:function(){af=ac.isHost;ah=0;Z=k(ac.remote);ac.local=C(ac.local);if(af){p.Fn.set(ac.channel,function(am){if(af&&am==="ready"){p.Fn.set(ac.channel,ak);ae()}});Y=Q(ac.remote,{xdm_e:ac.local,xdm_c:ac.channel,xdm_p:2});U(ac.props,{src:Y+"#"+ac.channel,name:V+ac.channel+"_provider"});ab=B(ac)}else{ac.remoteHelper=ac.remote;p.Fn.set(ac.channel,ak)}var al=function(){var am=aj||this;y(am,"load",al);p.Fn.set(ac.channel+"_load",aa);(function an(){if(typeof am.contentWindow.sendMessage=="function"){ae()}else{L(an,50)}}())};aj=B({props:{src:ac.local+"#_4"+ac.channel},onLoad:al})},init:function(){H(ad.onDOMReady,ad)}})};p.stack.HashTransport=function(aa){var ad;var ai=this,ag,ab,Y,ae,an,ac,am;var ah,Z;function al(ap){if(!am){return}var ao=aa.remote+"#"+(an++)+"_"+ap;((ag||!ah)?am.contentWindow:am).location=ao}function af(ao){ae=ao;ad.up.incoming(ae.substring(ae.indexOf("_")+1),Z)}function ak(){if(!ac){return}var ao=ac.location.href,aq="",ap=ao.indexOf("#");if(ap!=-1){aq=ao.substring(ap)}if(aq&&aq!=ae){af(aq)}}function aj(){ab=setInterval(ak,Y)}return(ad={outgoing:function(ao,ap){al(ao)},destroy:function(){O.clearInterval(ab);if(ag||!ah){am.parentNode.removeChild(am)}am=null},onDOMReady:function(){ag=aa.isHost;Y=aa.interval;ae="#"+aa.channel;an=0;ah=aa.useParent;Z=k(aa.remote);if(ag){U(aa.props,{src:aa.remote,name:V+aa.channel+"_provider"});if(ah){aa.onLoad=function(){ac=O;aj();ad.up.callback(true)}}else{var aq=0,ao=aa.delay/50;(function ap(){if(++aq>ao){throw new Error("Unable to reference listenerwindow")}try{ac=am.contentWindow.frames[V+aa.channel+"_consumer"]}catch(ar){}if(ac){aj();ad.up.callback(true)}else{L(ap,50)}}())}am=B(aa)}else{ac=O;aj();if(ah){am=parent;ad.up.callback(true)}else{U(aa,{props:{src:aa.remote+"#"+aa.channel+new Date(),name:V+aa.channel+"_consumer"},onLoad:function(){ad.up.callback(true)}});am=B(aa)}}},init:function(){H(ad.onDOMReady,ad)}})};p.stack.ReliableBehavior=function(Z){var ab,ad;var ac=0,Y=0,aa="";return(ab={incoming:function(ag,ae){var af=ag.indexOf("_"),ah=ag.substring(0,af).split(",");ag=ag.substring(af+1);if(ah[0]==ac){aa="";if(ad){ad(true)}}if(ag.length>0){ab.down.outgoing(ah[1]+","+ac+"_"+aa,ae);if(Y!=ah[1]){Y=ah[1];ab.up.incoming(ag,ae)}}},outgoing:function(ag,ae,af){aa=ag;ad=af;ab.down.outgoing(Y+","+(++ac)+"_"+ag,ae)}})};p.stack.QueueBehavior=function(aa){var ad,ae=[],ah=true,ab="",ag,Y=0,Z=false,ac=false;function af(){if(aa.remove&&ae.length===0){x(ad);return}if(ah||ae.length===0||ag){return}ah=true;var ai=ae.shift();ad.down.outgoing(ai.data,ai.origin,function(aj){ah=false;if(ai.callback){L(function(){ai.callback(aj)},0)}af()})}return(ad={init:function(){if(u(aa)){aa={}}if(aa.maxLength){Y=aa.maxLength;ac=true}if(aa.lazy){Z=true}else{ad.down.init()}},callback:function(aj){ah=false;var ai=ad.up;af();ai.callback(aj)},incoming:function(al,aj){if(ac){var ak=al.indexOf("_"),ai=parseInt(al.substring(0,ak),10);ab+=al.substring(ak+1);if(ai===0){if(aa.encode){ab=l(ab)}ad.up.incoming(ab,aj);ab=""}}else{ad.up.incoming(al,aj)}},outgoing:function(am,aj,al){if(aa.encode){am=I(am)}var ai=[],ak;if(ac){while(am.length!==0){ak=am.substring(0,Y);am=am.substring(ak.length);ai.push(ak)}while((ak=ai.shift())){ae.push({data:ai.length+"_"+ak,origin:aj,callback:ai.length===0?al:null})}}else{ae.push({data:am,origin:aj,callback:al})}if(Z){ad.down.init()}else{af()}},destroy:function(){ag=true;ad.down.destroy()}})};p.stack.VerifyBehavior=function(ac){var ad,ab,Z,aa=false;function Y(){ab=Math.random().toString(16).substring(2);ad.down.outgoing(ab)}return(ad={incoming:function(ag,ae){var af=ag.indexOf("_");if(af===-1){if(ag===ab){ad.up.callback(true)}else{if(!Z){Z=ag;if(!ac.initiate){Y()}ad.down.outgoing(ag)}}}else{if(ag.substring(0,af)===Z){ad.up.incoming(ag.substring(af+1),ae)}}},outgoing:function(ag,ae,af){ad.down.outgoing(ab+"_"+ag,ae,af)},callback:function(ae){if(ac.initiate){Y()}}})};p.stack.RpcBehavior=function(ae,Z){var ab,ag=Z.serializer||P();var af=0,ad={};function Y(ah){ah.jsonrpc="2.0";ab.down.outgoing(ag.stringify(ah))}function ac(ah,aj){var ai=Array.prototype.slice;return function(){var ak=arguments.length,am,al={method:aj};if(ak>0&&typeof arguments[ak-1]==="function"){if(ak>1&&typeof arguments[ak-2]==="function"){am={success:arguments[ak-2],error:arguments[ak-1]};al.params=ai.call(arguments,0,ak-2)}else{am={success:arguments[ak-1]};al.params=ai.call(arguments,0,ak-1)}ad[""+(++af)]=am;al.id=af}else{al.params=ai.call(arguments,0)}if(ah.namedParams&&al.params.length===1){al.params=al.params[0]}Y(al)}}function aa(ah,aj,an,al){if(!an){if(aj){Y({id:aj,error:{code:-32601,message:"Procedure not found."}})}return}var ao,am;if(aj){ao=function(aq){ao=r;Y({id:aj,result:aq})};am=function(aq,ar){am=r;var at={id:aj,error:{code:-32099,message:aq}};if(ar){at.error.data=ar}Y(at)}}else{ao=am=r}if(!s(al)){al=[al]}try{var ak=ae.context||an.scope;var ap=an.method.apply(ak,al.concat([ao,am]));if(!u(ap)){ao(ap)}}catch(ai){am(ai.message)}}return(ab={incoming:function(ai,ah){var aj=ag.parse(ai);if(aj.method){if(Z.handle){Z.handle(aj,Y)}else{aa(aj.method,aj.id,Z.local[aj.method],aj.params)}}else{var ak=ad[aj.id];if(aj.error){if(ak.error){ak.error(aj.error)}}else{if(ak.success){ak.success(aj.result)}}delete ad[aj.id]}},init:function(){if(Z.remote){for(var ah in Z.remote){if(Z.remote.hasOwnProperty(ah)){ae[ah]=ac(Z.remote[ah],ah)}}}ab.down.init()},destroy:function(){for(var ah in Z.remote){if(Z.remote.hasOwnProperty(ah)&&ae.hasOwnProperty(ah)){delete ae[ah]}}ab.down.destroy()}})};b.easyXDM=p})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);